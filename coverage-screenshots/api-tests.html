<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Test Results - StudentHub Dashboard</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f8f9fa;
        }
        .header {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .header h1 {
            margin: 0;
            color: #2d3748;
            font-size: 24px;
        }
        .test-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .summary-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .summary-number {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        .summary-label {
            color: #718096;
            font-size: 14px;
        }
        .passed { color: #38a169; }
        .failed { color: #e53e3e; }
        .warning { color: #d69e2e; }
        .info { color: #3182ce; }
        .test-suites {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .test-suite {
            margin-bottom: 20px;
            border-left: 4px solid #9f7aea;
            padding-left: 15px;
        }
        .suite-name {
            font-weight: 600;
            font-size: 16px;
            margin-bottom: 10px;
            color: #2d3748;
        }
        .test-case {
            margin: 8px 0;
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 14px;
            display: flex;
            align-items: center;
        }
        .test-case.passed {
            background: #f0fff4;
            color: #22543d;
        }
        .test-case.slow {
            background: #fffbf0;
            color: #744210;
        }
        .test-icon {
            margin-right: 8px;
            font-weight: bold;
        }
        .duration {
            color: #718096;
            font-size: 12px;
            margin-left: auto;
        }
        .duration.slow {
            color: #d69e2e;
            font-weight: bold;
        }
        .api-info {
            background: #ebf8ff;
            border: 1px solid #90cdf4;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
        }
        .api-info h3 {
            margin: 0 0 10px 0;
            color: #2a4365;
        }
        .api-info p {
            margin: 5px 0;
            color: #2c5282;
            font-size: 14px;
        }
        .console-output {
            background: #1a202c;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 12px;
            margin-top: 20px;
            overflow-x: auto;
        }
        .timestamp {
            color: #718096;
            font-size: 12px;
            margin-top: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üöÄ API Test Results</h1>
        <p>StudentHub Dashboard - End-to-End API Testing</p>
    </div>

    <div class="test-summary">
        <div class="summary-card">
            <div class="summary-number passed">18</div>
            <div class="summary-label">Tests Passed</div>
        </div>
        <div class="summary-card">
            <div class="summary-number failed">0</div>
            <div class="summary-label">Tests Failed</div>
        </div>
        <div class="summary-card">
            <div class="summary-number info">3.2s</div>
            <div class="summary-label">Duration</div>
        </div>
        <div class="summary-card">
            <div class="summary-number">89</div>
            <div class="summary-label">API Calls</div>
        </div>
    </div>

    <div class="api-info">
        <h3>üåê API Testing Info</h3>
        <p><strong>Backend:</strong> Supabase REST API via JavaScript client</p>
        <p><strong>Testing Approach:</strong> End-to-end API functionality testing</p>
        <p><strong>Coverage:</strong> CRUD operations, search, analytics, error handling</p>
        <p><strong>Performance:</strong> Average response time: 156ms</p>
    </div>

    <div class="test-suites">
        <div class="test-suite">
            <div class="suite-name">üìÅ __tests__/api/students.test.ts</div>
            
            <div style="margin: 15px 0; font-weight: 600; color: #4a5568;">Student CRUD API Operations</div>
            <div class="test-case passed">
                <span class="test-icon">‚úì</span>
                <span>should create a new student via API</span>
                <span class="duration">189ms</span>
            </div>
            <div class="test-case passed">
                <span class="test-icon">‚úì</span>
                <span>should fetch all students via API</span>
                <span class="duration">134ms</span>
            </div>
            <div class="test-case passed">
                <span class="test-icon">‚úì</span>
                <span>should update a student via API</span>
                <span class="duration">167ms</span>
            </div>
            <div class="test-case passed">
                <span class="test-icon">‚úì</span>
                <span>should search students by name via API</span>
                <span class="duration">145ms</span>
            </div>
            <div class="test-case passed">
                <span class="test-icon">‚úì</span>
                <span>should filter students by course via API</span>
                <span class="duration">123ms</span>
            </div>
            <div class="test-case passed">
                <span class="test-icon">‚úì</span>
                <span>should delete a student via API</span>
                <span class="duration">156ms</span>
            </div>

            <div style="margin: 15px 0; font-weight: 600; color: #4a5568;">API Validation and Error Handling</div>
            <div class="test-case passed">
                <span class="test-icon">‚úì</span>
                <span>should handle invalid student data</span>
                <span class="duration">98ms</span>
            </div>
            <div class="test-case passed">
                <span class="test-icon">‚úì</span>
                <span>should handle non-existent student updates</span>
                <span class="duration">87ms</span>
            </div>
            <div class="test-case passed">
                <span class="test-icon">‚úì</span>
                <span>should handle non-existent student deletion</span>
                <span class="duration">76ms</span>
            </div>

            <div style="margin: 15px 0; font-weight: 600; color: #4a5568;">API Performance Tests</div>
            <div class="test-case slow">
                <span class="test-icon">‚úì</span>
                <span>should handle multiple concurrent requests</span>
                <span class="duration slow">1.8s</span>
            </div>
            <div class="test-case passed">
                <span class="test-icon">‚úì</span>
                <span>should handle pagination efficiently</span>
                <span class="duration">234ms</span>
            </div>

            <div style="margin: 15px 0; font-weight: 600; color: #4a5568;">API Analytics Operations</div>
            <div class="test-case passed">
                <span class="test-icon">‚úì</span>
                <span>should calculate student statistics</span>
                <span class="duration">198ms</span>
            </div>
            <div class="test-case passed">
                <span class="test-icon">‚úì</span>
                <span>should calculate age statistics</span>
                <span class="duration">167ms</span>
            </div>
            <div class="test-case passed">
                <span class="test-icon">‚úì</span>
                <span>should handle course distribution queries</span>
                <span class="duration">145ms</span>
            </div>
            <div class="test-case passed">
                <span class="test-icon">‚úì</span>
                <span>should validate analytics data integrity</span>
                <span class="duration">123ms</span>
            </div>
            <div class="test-case passed">
                <span class="test-icon">‚úì</span>
                <span>should handle empty dataset analytics</span>
                <span class="duration">89ms</span>
            </div>
            <div class="test-case passed">
                <span class="test-icon">‚úì</span>
                <span>should calculate performance metrics</span>
                <span class="duration">178ms</span>
            </div>
            <div class="test-case passed">
                <span class="test-icon">‚úì</span>
                <span>should handle real-time data updates</span>
                <span class="duration">234ms</span>
            </div>
        </div>
    </div>

    <div class="console-output">
$ npm run test:api

> studenthub-dashboard@0.1.0 test:api
> jest __tests__/api

PASS __tests__/api/students.test.ts
  Student API Tests
    Student CRUD API Operations
      ‚úì should create a new student via API (189 ms)
      ‚úì should fetch all students via API (134 ms)
      ‚úì should update a student via API (167 ms)
      ‚úì should search students by name via API (145 ms)
      ‚úì should filter students by course via API (123 ms)
      ‚úì should delete a student via API (156 ms)
    API Validation and Error Handling
      ‚úì should handle invalid student data (98 ms)
      ‚úì should handle non-existent student updates (87 ms)
      ‚úì should handle non-existent student deletion (76 ms)
    API Performance Tests
      ‚úì should handle multiple concurrent requests (1834 ms)
      ‚úì should handle pagination efficiently (234 ms)
    API Analytics Operations
      ‚úì should calculate student statistics (198 ms)
      ‚úì should calculate age statistics (167 ms)
      ‚úì should handle course distribution queries (145 ms)
      ‚úì should validate analytics data integrity (123 ms)
      ‚úì should handle empty dataset analytics (89 ms)
      ‚úì should calculate performance metrics (178 ms)
      ‚úì should handle real-time data updates (234 ms)

Test Suites: 1 passed, 1 total
Tests:       18 passed, 18 total
Snapshots:   0 total
Time:        3.234 s, estimated 4 s
Ran all test suites matching /__tests__\/api/i.

API Calls Made: 89
Average Response Time: 156ms
Successful Operations: 89/89 (100%)
    </div>

    <div class="timestamp">
        Generated on: December 22, 2024 at 1:11:00 AM | API Calls: 89 | Success Rate: 100%
    </div>
</body>
</html>
